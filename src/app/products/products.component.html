<!-- <div *ngIf="this.userService.authorized"> -->

  <h1  id="header">Products List</h1>
  
  <button mat-button (click)="addrow(element)" class="btn1">Add Product</button>
  <mat-form-field class="filter" >
    <input matInput (keyup)="applyFilter($any($event.target).value)" placeholder="Filter Products">
  </mat-form-field>
  <!-- <button mat-button class="btn1">Delete All</button> -->

  <table 
  mat-table
  [dataSource]="dataSource"
  matSort
  (matSortChange)="announceSortChange($event)"
  class="mat-elevation-z8"
  >
  <!-- Checkbox Column -->
  <ng-container matColumnDef="select">
    <th mat-header-cell *matHeaderCellDef>
      <mat-checkbox (change)="$event ? masterToggle() : null"
                    [checked]="selection.hasValue() && isAllSelected()"
                    [indeterminate]="selection.hasValue() && !isAllSelected()">
                  </mat-checkbox>
                </th>
                <td mat-cell *matCellDef="let row">
                  <mat-checkbox (click)="$event.stopPropagation()"
                    (change)="$event ? selection.toggle(row) : null"
                    [checked]="selection.isSelected(row)">
                  </mat-checkbox>
    </td>
  </ng-container>
  
  <ng-container matColumnDef="id">
    <th
      mat-header-cell
      *matHeaderCellDef
      mat-sort-header
      sortActionDescription="Sort by number"
      >
      Id
    </th>
    <td mat-cell *matCellDef="let element">
      <a (click)="openpopup(element)">{{ element.id }}</a>
    </td>
  </ng-container>

  <ng-container matColumnDef="title">
    <th mat-header-cell *matHeaderCellDef>Title</th>
    <td mat-cell *matCellDef="let element">
      <a (click)="openpopup(element)">{{ element.title }}</a>
    </td>
  </ng-container>
  
  <!-- Name Column -->
  <ng-container matColumnDef="category">
    <th mat-header-cell *matHeaderCellDef>Category</th>
    <td mat-cell *matCellDef="let element">
      <a (click)="openpopup(element)"> {{ element.category }}</a>
    </td>
  </ng-container>
  
  <!-- Weight Column -->
  <ng-container matColumnDef="stock">
    <th mat-header-cell *matHeaderCellDef>Stock</th>
    <td mat-cell *matCellDef="let element">{{ element.stock }}</td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="brand">
    <th mat-header-cell *matHeaderCellDef>Brand</th>
    <td mat-cell *matCellDef="let element">{{ element.brand }}</td>
  </ng-container>

  <ng-container matColumnDef="Actions">
    <th mat-header-cell *matHeaderCellDef>Actions</th>
    <td mat-cell *matCellDef="let element">
      <button
      mat-icon-button
      (click)="editRow(element)"
      matTooltip="Edit"
      matTooltipPosition="above"
      >
      <mat-icon>edit</mat-icon></button
      >&nbsp;
      <button
      mat-icon-button
      (click)="openpopup(element)"
        matTooltip="View"
        matTooltipPosition="above"
      >
        <mat-icon>visibility</mat-icon></button
      >&nbsp;
      <button
      mat-icon-button
      (click)="deleteRow(element)"
      matTooltip="Delete"
      matTooltipPosition="above"
      >
      <mat-icon>delete</mat-icon>
    </button>
    <button
      mat-icon-button
      (click)="Addfav(element)"
        matTooltip="Add to favorites"
        matTooltipPosition="above"
      >
        <mat-icon [ngClass]="{'red' : element.is_favourite}">favorites</mat-icon></button
      >&nbsp;
  </td>
  &nbsp;
  </ng-container>

  <tr class="tblheader" mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr class="tbl" mat-row *matRowDef="let row; columns: displayedColumns"></tr>
</table>

<mat-paginator
[pageSizeOptions]="[5, 10, 15, 20, 40]"
showFirstLastButtons
aria-label="Select page of periodic elements"
>
</mat-paginator>

<!-- </div> -->